import{c as u,r as p,ah as N,ai as y,aj as f,ak as g,j as e,L as d,e as v,G as b,al as c,h as w,p as _,af as L,C as i,am as C,E as P}from"./index-55mznCYq.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=u("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),T=()=>{const[n,x]=p.useState(7),{data:o,isLoading:m}=N({days:n}),{data:r}=y({limit:5}),{data:t}=f(),{data:a}=g(),h=[{value:7,label:"Last 7 Days"},{value:14,label:"Last 14 Days"},{value:30,label:"Last 30 Days"}],s=o||{total_views:0,total_contacts:0,total_orders:0,unique_visitors:0};return m?e.jsx(d,{children:e.jsx(v,{})}):e.jsx(d,{children:e.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Analytics"}),e.jsx("p",{className:"text-neutral-500 mt-1",children:"Track your listing performance and buyer engagement"})]}),e.jsx(b,{value:n,onChange:l=>x(parseInt(l.target.value)),options:h,className:"md:w-48"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(c,{icon:w,label:"Total Views",value:s.total_views||0,color:"primary"}),e.jsx(c,{icon:k,label:"Contact Clicks",value:s.total_contacts||0,color:"secondary"}),e.jsx(c,{icon:_,label:"Orders Placed",value:s.total_orders||0,color:"success"}),e.jsx(c,{icon:L,label:"Unique Visitors",value:s.unique_visitors||0,color:"info"})]}),e.jsxs(i,{children:[e.jsx("h3",{className:"section-title mb-4",children:"Conversion Funnel"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 py-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-3xl font-bold text-primary-600",children:s.total_views||0})}),e.jsx("p",{className:"text-neutral-600",children:"Views"})]}),e.jsx("div",{className:"text-4xl text-neutral-300",children:"â†’"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-28 h-28 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-2xl font-bold text-secondary-600",children:s.total_contacts||0})}),e.jsx("p",{className:"text-neutral-600",children:"Contacts"})]}),e.jsx("div",{className:"text-4xl text-neutral-300",children:"â†’"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl font-bold text-green-600",children:s.total_orders||0})}),e.jsx("p",{className:"text-neutral-600",children:"Orders"})]})]}),s.total_views>0&&e.jsxs("div",{className:"flex justify-center gap-8 text-sm text-neutral-500 border-t pt-4",children:[e.jsxs("span",{children:["Contact Rate: ",e.jsxs("strong",{children:[(s.total_contacts/s.total_views*100||0).toFixed(1),"%"]})]}),e.jsxs("span",{children:["Order Rate: ",e.jsxs("strong",{children:[(s.total_orders/s.total_views*100||0).toFixed(1),"%"]})]})]})]}),e.jsxs(i,{children:[e.jsxs("h3",{className:"section-title flex items-center gap-2 mb-4",children:[e.jsx(C,{size:20,className:"text-primary-500"}),"Top Performing Listings"]}),(r==null?void 0:r.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"text-left text-sm text-neutral-500 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"pb-3 font-medium",children:"Listing"}),e.jsx("th",{className:"pb-3 font-medium text-right",children:"Views"}),e.jsx("th",{className:"pb-3 font-medium text-right",children:"Contacts"}),e.jsx("th",{className:"pb-3 font-medium text-right",children:"Orders"}),e.jsx("th",{className:"pb-3 font-medium text-right",children:"Price"})]})}),e.jsx("tbody",{className:"divide-y",children:r.map((l,j)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-sm font-medium",children:j+1}),e.jsx("span",{className:"font-medium",children:l.crop_name})]})}),e.jsx("td",{className:"py-3 text-right",children:l.views||0}),e.jsx("td",{className:"py-3 text-right",children:l.contacts||0}),e.jsx("td",{className:"py-3 text-right",children:l.orders||0}),e.jsxs("td",{className:"py-3 text-right text-primary-600 font-medium",children:["P",l.price]})]},l.id))})]})}):e.jsx(P,{title:"No data yet",description:"Create listings to start tracking performance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx("h3",{className:"section-title mb-4",children:"Listing Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Active Listings"}),e.jsx("span",{className:"font-bold text-lg",children:(t==null?void 0:t.active_listings)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Sold Listings"}),e.jsx("span",{className:"font-bold text-lg",children:(t==null?void 0:t.sold_listings)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Total Views"}),e.jsx("span",{className:"font-bold text-lg",children:(t==null?void 0:t.total_views)||0})]})]})]}),e.jsxs(i,{children:[e.jsx("h3",{className:"section-title mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Pending Orders"}),e.jsx("span",{className:"font-bold text-lg text-yellow-600",children:(a==null?void 0:a.pending_orders)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Completed Orders"}),e.jsx("span",{className:"font-bold text-lg text-green-600",children:(a==null?void 0:a.completed_orders)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Total Revenue"}),e.jsxs("span",{className:"font-bold text-lg text-primary-600",children:["P",((a==null?void 0:a.total_revenue)||0).toLocaleString()]})]})]})]})]}),e.jsxs(i,{className:"bg-primary-50 border border-primary-100",children:[e.jsx("h4",{className:"font-semibold text-primary-800 mb-3",children:"ðŸ“ˆ Tips to Improve Performance"}),e.jsxs("ul",{className:"space-y-2 text-primary-700 text-sm",children:[e.jsx("li",{children:"â€¢ Add high-quality photos to your listings"}),e.jsx("li",{children:"â€¢ Write detailed descriptions about produce quality"}),e.jsx("li",{children:"â€¢ Keep prices competitive - check market prices"}),e.jsx("li",{children:"â€¢ Respond quickly to buyer inquiries"}),e.jsx("li",{children:"â€¢ Update listings regularly to stay visible"})]})]})]})})};export{T as default};

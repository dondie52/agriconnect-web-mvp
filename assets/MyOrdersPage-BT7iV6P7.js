import{r as u,ax as f,j as e,L as N,d as l,S as y,C as r,ay as m,az as x,aA as b,e as v,E as w,aB as o,s as C,q as _,w as L,aC as k}from"./index-55mznCYq.js";const n={pending:{label:"Pending",color:"bg-yellow-100 text-yellow-700",icon:b},accepted:{label:"Accepted",color:"bg-blue-100 text-blue-700",icon:x},rejected:{label:"Rejected",color:"bg-red-100 text-red-700",icon:m},completed:{label:"Completed",color:"bg-green-100 text-green-700",icon:x},cancelled:{label:"Cancelled",color:"bg-neutral-100 text-neutral-700",icon:m}},P=()=>{const[i,p]=u.useState(""),{data:t,isLoading:g}=f({status:i||void 0}),c=(t==null?void 0:t.orders)||[],h=s=>new Date(s).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return e.jsx(N,{children:e.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"My Orders"}),e.jsx("p",{className:"text-neutral-500 mt-1",children:"Track your orders from farmers"})]}),e.jsxs(l,{to:"/listings",className:"btn-primary flex items-center gap-2 w-fit",children:[e.jsx(y,{size:18}),"Browse Listings"]})]}),e.jsx(r,{className:"flex flex-wrap gap-2",children:["","pending","accepted","completed","rejected","cancelled"].map(s=>{var a;return e.jsx("button",{onClick:()=>p(s),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===s?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:s?(a=n[s])==null?void 0:a.label:"All Orders"},s)})}),g?e.jsx(v,{}):c.length===0?e.jsx(w,{icon:o,title:"No orders yet",description:"Browse listings and place your first order!",action:e.jsx(l,{to:"/listings",className:"btn-primary",children:"Browse Listings"})}):e.jsx("div",{className:"space-y-4",children:c.map(s=>{var d;const a=n[s.status]||n.pending,j=a.icon;return e.jsxs(r,{className:"hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg text-neutral-800",children:s.crop_name}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${a.color}`,children:[e.jsx(j,{size:12}),a.label]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(o,{size:16,className:"text-neutral-400"}),e.jsxs("span",{children:[s.quantity," ",s.unit||"kg"]})]}),e.jsx("div",{className:"flex items-center gap-2 text-neutral-600",children:e.jsxs("span",{className:"font-semibold text-primary-600",children:["P",((d=s.total_price)==null?void 0:d.toFixed(2))||s.unit_price*s.quantity]})}),e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(C,{size:16,className:"text-neutral-400"}),e.jsx("span",{children:h(s.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(_,{size:16,className:"text-neutral-400"}),e.jsx("span",{children:s.region_name||"N/A"})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-neutral-500",children:"Farmer:"}),e.jsx("span",{className:"text-sm font-medium",children:s.farmer_name}),s.farmer_phone&&e.jsxs("a",{href:`tel:${s.farmer_phone}`,className:"flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[e.jsx(L,{size:14}),s.farmer_phone]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(l,{to:`/listings/${s.listing_id}`,className:"flex items-center gap-1 px-4 py-2 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:["View Listing",e.jsx(k,{size:16})]})})]}),s.notes&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("p",{className:"text-sm text-neutral-600",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",s.notes]})})]},s.id)})}),e.jsxs(r,{className:"bg-primary-50 border border-primary-100",children:[e.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"ðŸ’¡ Order Status Guide"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{className:"text-primary-700",children:"Pending - Awaiting farmer response"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-primary-700",children:"Accepted - Ready for pickup/delivery"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-primary-700",children:"Completed - Order fulfilled"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-primary-700",children:"Rejected - Farmer declined"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-neutral-400"}),e.jsx("span",{className:"text-primary-700",children:"Cancelled - Order cancelled"})]})]})]})]})})};export{P as default};

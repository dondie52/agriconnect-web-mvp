import{c as u,r as p,aD as h,j as e,L as g,d as c,P as j,C as l,az as f,ay as y,aA as N,e as b,E as v,O as w,aB as P,q as C,s as k}from"./index-55mznCYq.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=u("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),r={open:{label:"Open",color:"bg-green-100 text-green-700",icon:N},closed:{label:"Closed",color:"bg-neutral-100 text-neutral-700",icon:y},fulfilled:{label:"Fulfilled",color:"bg-blue-100 text-blue-700",icon:f}},R=()=>{const[n,o]=p.useState(""),{data:a,isLoading:d}=h({status:n||void 0}),i=(a==null?void 0:a.requests)||[],x=s=>new Date(s).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return e.jsx(g,{children:e.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"My Requests"}),e.jsx("p",{className:"text-neutral-500 mt-1",children:"Manage your produce requests"})]}),e.jsxs(c,{to:"/create-request",className:"btn-primary flex items-center gap-2 w-fit",children:[e.jsx(j,{size:18}),"Post New Request"]})]}),e.jsx(l,{className:"flex flex-wrap gap-2",children:["","open","fulfilled","closed"].map(s=>{var t;return e.jsx("button",{onClick:()=>o(s),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===s?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:s?(t=r[s])==null?void 0:t.label:"All Requests"},s)})}),d?e.jsx(b,{}):i.length===0?e.jsx(v,{icon:w,title:"No requests yet",description:"Post a request to let farmers know what produce you're looking for!",action:e.jsx(c,{to:"/create-request",className:"btn-primary",children:"Post Request"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(s=>{const t=r[s.status]||r.open,m=t.icon;return e.jsxs(l,{className:"hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-lg text-neutral-800",children:s.crop_name}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${t.color}`,children:[e.jsx(m,{size:12}),t.label]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(P,{size:16,className:"text-neutral-400"}),e.jsxs("span",{children:["Quantity: ",e.jsxs("strong",{children:[s.quantity," ",s.unit||"kg"]})]})]}),s.max_price&&e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(L,{size:16,className:"text-neutral-400"}),e.jsxs("span",{children:["Max Price: ",e.jsxs("strong",{className:"text-primary-600",children:["P",s.max_price]})]})]}),s.region_name&&e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(C,{size:16,className:"text-neutral-400"}),e.jsx("span",{children:s.region_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(k,{size:16,className:"text-neutral-400"}),e.jsxs("span",{children:["Posted: ",x(s.created_at)]})]})]}),s.notes&&e.jsx("div",{className:"mt-3 pt-3 border-t",children:e.jsx("p",{className:"text-sm text-neutral-600",children:s.notes})}),s.status==="open"&&e.jsxs("div",{className:"mt-4 pt-4 border-t flex gap-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 text-sm text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",children:"Edit"}),e.jsx("button",{className:"flex-1 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Close"})]})]},s.id)})}),e.jsxs(l,{className:"bg-primary-50 border border-primary-100",children:[e.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"ðŸ’¡ How Requests Work"}),e.jsx("p",{className:"text-primary-700 text-sm",children:"Post requests for produce you need. Farmers in your area will see your request and can contact you directly with offers. You can close a request once fulfilled or if you no longer need it."})]})]})})};export{R as default};
